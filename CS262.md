# CS262 Logic And Verification

## What is logic

- Study of correct reasoning
- Mathematical logic - captures reasoning in a fully formal system
- Four pillars of logic:
  - Set theory
  - Model theory
  - Proof theory
  - Recursion theory

### Politicians fallacy

- Improve things, changes must be made
- Policy is to change things
- Therefore improving things

### Induction and Recursion

**Induction**

- Build a bigger structure from its constituents /technique

**Example**

- Variables x,y,z
- sums/product of terms

**Theorem**

- Number of opening parenthesis = number of closing

Recursion - Decompose a bigger structure into its constituents / programming technique

```
f(x) = 0
f((X+Y)) = f(X) + f(Y) + 2
f((X*Y)) = f(X) + f(Y) + 2
```

### Syntax and Semantics



**Syntax**

- Formal specification of a language - often by induction

**Example**

- Arithmetic
  - $1,s(1),s(s(1)),+/\cross$

**Semantics**

- Meaning of the formal symbols in a particular context
  - Domain of variables/quantifiers (natural numbers)
  - Formal language needs interpretation in a particular model
  - Truth/falseness depends on the model

The combination of the two concepts gives full meaning and definition to a language, which then can be used if statements given are true or false

## Lecture 2 - Basics of prop logic

A formal system for reasoning about propositions

- Proposition = Formula = Statement

### Atomic vs compound propositions

Atomic:

- The simplest possible proposition, and cannot be broken down

Compound:

- Propositions joined by other words

It is the form of the argument that matters rather than the meaning of the sentences

- The words if it is raining, or if I get full marks are arbitrary

### Propositional Language

Atomic formulas - the most basic propositions

$p=$ it is raining

Logical connectives/operators allow the building of more complicated propositions

- $¬$ negation - it is not raining
- $\wedge$ and it is raining and I take my umbrella
- $\or$ or It is raining or i take my umbrella
- $\rightarrow$ implies If it is raining then I take my umbrella

$\circ\in\{\and,\or,\rightarrow,..\}$

#### Syntax of propositional formulas

**Prop formulas**

- Are exactly those that can be constructed by a finite number of applications of the following rules
  - Propositional variables, p,q,r and $\top$ and $\bot$ are atomic formulas
  - If $X$ is a formula, so is $¬X$
  - If $X,Y$ are formulas then so is $(X\circ Y)$ where $\circ$ is any binary connective

**Conventions**

May leave out brackets where there is no ambiguity

## Parse Tree

![image-20220112111751753](C:\Users\leonc\AppData\Roaming\Typora\typora-user-images\image-20220112111751753.png)

- A recursive definition of a subtree

- There is a distinction between left and right child,
  - With binary connectives, such as implication

### Induction and Recursion

- We can define recursive functions on formulas

![image-20220112111947438](C:\Users\leonc\AppData\Roaming\Typora\typora-user-images\image-20220112111947438.png)

- Where deg(A) = 0 is the base case of the formula
- The negation adds 1
- The combination, adds 1, then the degrees of the two sub formulas

#### **Theorem**

- The degree of a formula equals the number of inner nodes of the parse tree

**Proof**

A proof of induction over the structures

- typically over numbers, however works on any inductively defined stucture

**Base Case**

Atomic Formula: $x$

- These are leaves in the parse tree
- Contribute nothing (0) to the number of inner nodes

$deg(x)$ = 0

**Induction Step:**

- There are two ways of defining propositional formulas:
  - Negation
  - Binary connective

1. $¬$

- Having a negation, means that there is a variable or a formula being negated, hence this increases the number of inner nodes:
- $deg(¬x)=deg(x)+1$, - The degree of $¬X$ = $deg(X)+1$

2. $\circ$ 

There is a subtree with binary connectives:

- $deg(X\circ Y) = 1+deg(X)+deg(Y)$

- This means that $\circ$ is an inner node, which generates the plus one:
  - Since the number of inner nodes of each are the same, then the proof is concluded:

$\square$

### Semantics of Propositional Logic

![image-20220112113505902](C:\Users\leonc\AppData\Roaming\Typora\typora-user-images\image-20220112113505902.png)

- T,F or 0,1

#### Truth table connectives

![image-20220112113739849](C:\Users\leonc\AppData\Roaming\Typora\typora-user-images\image-20220112113739849.png)

The nullary connectives are what always gives you true or false

$X\rightarrow Y$

- The first is the premise, and the second the conclusion

- $\downarrow$ - nand
- $\uparrow$ - nor



#### Valuations

This is a mapping V from the set of propositional formulas to the set of truth values $\{T,F\}$ satisfying the conditions:

![image-20220112114542917](C:\Users\leonc\AppData\Roaming\Typora\typora-user-images\image-20220112114542917.png)

- To examine all interesting valuations for a given formula, it is enough to specify v for each varible. The value of all sub formulas can be deduced bottom up (in the parse tree)

- A truth table specifies all valuations

#### Tautologies, contradictions

- A formula evaluates to $T$ under all valuations is called a tautology
- A formula that evaluates to $F$ under all valuations is called a contradiction
- A formula that evaluates to $T$ for some is called satisfiable



### Complete Set of Connectives

- Said to be complete if we can represent every truth function: $\{T,F\}\rightarrow\{T,F\}$ using only these connectives
  - $2^{2^n}$ such functions

| p     | f1   | f2   | f3   | f4   |
| ----- | ---- | ---- | ---- | ---- |
| **T** | T    | T    | F    | F    |
| **F** | T    | F    | T    | F    |

- f1 = T
- f2 = $p$
- f3  = $¬p$
- f4 = $\bot$ 

#### Proof By Construction

To create a formula that is given is logically equivalent to any function $f$ on variables $x_1,...,x_n$ given by its truth table.

![image-20220118131810143](C:\Users\leonc\AppData\Roaming\Typora\typora-user-images\image-20220118131810143.png)

- This is the disjunctive normal form of f

- A  formula in DNF is a disjunction of conjunctions of literals. A literal is a variable or its negation or $\top,\bot$
- A formula in CNF is a conjunction of disjunctions of literals

#### Normal Form Algorithms

- Deriving DNF or CNF in systematic ways

#### Generalized Disjunctions/conjunctions

Let $X_1,...,X_n$ be a sequence of propositional formulas

Generalised disjunction as:

- $[X_1,...,X_n] = X_1\or ...\or X_n$ - associativity

Generalised Conjunction as

-  $\langle X_1,...,X_n\rangle=X_1\and...\and X_n$

If these variables are literals, then $[X_1,...,X_n]$ is a clause, else it is a dual clause

**Literal** is a variable, its negation or a nullary operator 

#### Valuations on generalised disjunctions

![image-20220118134910248](C:\Users\leonc\AppData\Roaming\Typora\typora-user-images\image-20220118134910248.png)

#### $\alpha \beta $ formulas

- All proposotional formulas of the forms $(X\circ Y)$ and $¬(X\circ Y)$ where $\circ$ is one of the binary connectives intwo two categories, those that act conjunctively and those that act disjunctively

![image-20220119111150121](C:\Users\leonc\AppData\Roaming\Typora\typora-user-images\image-20220119111150121.png)



![image-20220119112315346](C:\Users\leonc\AppData\Roaming\Typora\typora-user-images\image-20220119112315346.png)



#### CJNF Algorithm

- Given any propositional formula, start take X, and create a conjunction of disjunctions $\langle[X]\rangle$
- Look somewhere inside for the square brackets

![image-20220119112402718](C:\Users\leonc\AppData\Roaming\Typora\typora-user-images\image-20220119112402718.png)



#### Compact Form

![`](C:\Users\leonc\AppData\Roaming\Typora\typora-user-images\image-20220119115100801.png)

#### Proof of Correctness

The algorithm produces a sequence of logically equivalent formula

![image-20220119115327950](C:\Users\leonc\AppData\Roaming\Typora\typora-user-images\image-20220119115327950.png)